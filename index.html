<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ReviewCenter</title>

<style>
:root{
  --bg:#0b0f14;
  --panel:#11161d;
  --card:#161b22;
  --line:#2a2f36;
  --text:#e6e6e6;
  --muted:#9aa0a6;
  --accent:#b78fbf;
}
*{box-sizing:border-box;font-family:system-ui,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}

.topbar{display:flex;padding:10px 16px;background:var(--panel);border-bottom:1px solid var(--line)}
.topbar span{margin-right:18px;cursor:pointer}
.active{color:var(--accent)}

.overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;z-index:10}
.overlay.show{display:block}
.overlay-box{width:720px;margin:80px auto;background:var(--panel);padding:16px;border-radius:8px}
.overlay-box input{width:100%;padding:8px;background:#0d1116;border:1px solid var(--line);color:#fff}

.board{padding:16px}
.tabs span{padding:6px 12px;border-radius:6px;cursor:pointer;margin-right:6px}
.tabs .active{background:rgba(183,143,191,.2)}

.column{background:var(--panel);padding:12px;border-radius:8px;margin-top:12px}
.task-card{background:var(--card);padding:8px;border-radius:6px;margin-bottom:6px}

.project-view{display:none;height:calc(100vh - 52px)}
.project-header{padding:10px 16px;background:var(--panel);border-bottom:1px solid var(--line)}
.project-tabs{display:flex;padding:8px 16px;border-bottom:1px solid var(--line)}
.project-tabs div{margin-right:10px;padding:6px 12px;border-radius:6px;cursor:pointer}
.project-tabs .active{background:rgba(183,143,191,.2)}

.project-body{display:flex;height:calc(100% - 84px)}
.pipeline{width:220px;border-right:1px solid var(--line);padding:12px}
.pipeline div{padding:6px;cursor:pointer}
.pipeline .active{background:var(--card)}

.panel{flex:1;padding:12px}
.right{width:260px;border-left:1px solid var(--line);padding:12px}

button{padding:6px 10px;border:none;border-radius:6px;background:#5c2d91;color:#fff;cursor:pointer;font-size:12px}
select{background:#0d1116;color:#fff;border:1px solid var(--line)}
</style>
</head>

<body>

<div class="topbar">
  <span id="btnProjects">Projects</span>
  <span class="active" id="btnMyTasks">My Tasks</span>
  <span>Bookmarks</span>
</div>

<!-- PROJECT SEARCH -->
<div class="overlay" id="overlay">
  <div class="overlay-box">
    <input placeholder="Type to filter projects">
    <div class="project-item" onclick="openProject()">PRJ-003 | Marketing Video</div>
  </div>
</div>

<!-- MY TASKS -->
<div id="myTasks" class="board">
  <div class="tabs">
    <span class="active" onclick="showMy('board')">Task board</span>
    <span onclick="showMy('list')">Task list</span>
    <span onclick="showMy('schedule')">Schedule</span>
  </div>
  <div id="myBoard"></div>
  <div id="myList" style="display:none"></div>
  <div id="mySchedule" style="display:none"></div>
</div>

<!-- PROJECT -->
<div id="projectView" class="project-view">
  <div class="project-header">
    <span onclick="closeProject()" style="cursor:pointer;margin-right:8px">←</span>
    PRJ-003 | Marketing Video
  </div>

  <div class="project-tabs">
    <div class="active" onclick="projTab('tasks')">Tasks</div>
    <div onclick="projTab('versions')">Versions</div>
  </div>

  <div class="project-body">
    <div class="pipeline">
      <div class="active">02_Animation</div>
    </div>

    <div class="panel" id="taskPanel">
      <button onclick="addTask()">Create Task</button>
      <div id="projectTasks"></div>
    </div>

    <div class="panel" id="versionPanel" style="display:none">
      <button onclick="uploadVersion()">Upload</button>
      <div id="versions"></div>
    </div>

    <div class="right">
      Schedule
      <div id="projectSchedule"></div>
    </div>
  </div>
</div>

<script>
let tasks=[];
let versions=[];
let taskId=1;

btnProjects.onclick=()=>overlay.classList.add("show");
overlay.onclick=e=>{if(e.target===overlay)overlay.classList.remove("show")};

function openProject(){
  overlay.classList.remove("show");
  myTasks.style.display="none";
  projectView.style.display="block";
  renderAll();
}
function closeProject(){
  projectView.style.display="none";
  myTasks.style.display="block";
}

function addTask(){
  const name=prompt("Task name");
  if(!name)return;
  tasks.push({id:taskId++,name,status:"Open"});
  renderAll();
}
function deleteTask(id){
  tasks=tasks.filter(t=>t.id!==id);
  renderAll();
}
function setStatus(id,val){
  tasks.find(t=>t.id===id).status=val;
  renderAll();
}

function uploadVersion(){
  versions.push("Version "+(versions.length+1));
  renderAll();
}

function renderAll(){
  projectTasks.innerHTML="";
  versionsDiv=document.getElementById("versions");
  versionsDiv.innerHTML=versions.map(v=>"<div>"+v+"</div>").join("");

  tasks.forEach(t=>{
    const d=document.createElement("div");
    d.className="task-card";
    d.innerHTML=`
      ${t.name}
      <select onchange="setStatus(${t.id},this.value)">
        <option ${t.status==="Open"?"selected":""}>Open</option>
        <option ${t.status==="In Progress"?"selected":""}>In Progress</option>
        <option ${t.status==="Closed"?"selected":""}>Closed</option>
      </select>
      <button onclick="deleteTask(${t.id})">✕</button>`;
    projectTasks.appendChild(d);
  });

  myBoard.innerHTML="";
  mySchedule.innerHTML="";
  tasks.filter(t=>t.status!=="Closed").forEach(t=>{
    myBoard.innerHTML+=`<div class="task-card">${t.name}</div>`;
    mySchedule.innerHTML+=`<div>${t.name} (${t.status})</div>`;
  });
}

function projTab(t){
  taskPanel.style.display=t==="tasks"?"block":"none";
  versionPanel.style.display=t==="versions"?"block":"none";
}
function showMy(t){
  myBoard.style.display=t==="board"?"block":"none";
  myList.style.display=t==="list"?"block":"none";
  mySchedule.style.display=t==="schedule"?"block":"none";
}
</script>

</body>
</html>
